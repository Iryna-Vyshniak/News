{"mappings":"AAiBO,MCjBDA,EAAOC,SAASC,cAAc,eAsCvBC,EAAgBC,IAC3B,MAAMC,EALgB,CAAAD,GACtBA,aAAA,EAAAA,EAAOE,QAAO,CAACC,EAAKC,IAASD,EA9BR,GAACE,QACtBA,EAAOC,MACPA,EAAKC,QACLA,EAAOC,QACPA,EAAOC,KACPA,EAAIC,SACJA,EAAQC,UACRA,EAASC,YACTA,KACe,gIAGcF,sCACJH,qFAGCD,YACzBM,EAAc,0BAA0BA,QAAoB,QAC5DJ,EAAU,4BAA4BA,EAAQK,MAAM,EAAG,cAAgB,oCAC3CJ,wEAE7BJ,EAAU,2BAA2BA,QAAgB,+BAC7BM,mCAQWG,CAAeV,IAAO,IAI1CW,CAAgBf,GAC/BJ,EAAKoB,UAAYf,CAAM,EAuClB,SAASgB,GAAoBC,OAClCA,EAAMZ,MACNA,EAAKa,YACLA,EAAWC,WACXA,EAAUR,YACVA,EAAWS,IACXA,EACAC,QAAQC,GAAEA,EAAEC,KAAEA,KAGd,MAAkB,oHAGWA,sCACJL,EAAYM,MAAM,KAAKC,KAAK,KAAKb,MAAM,GAAG,2BAG9DO,EACI,uCAAuCA,WAAoBG,2BAC3D,iKAA2DA,0FAI1CjB,YACzBM,EAAc,yBAAyBA,QAAoB,+BACpCM,UAAU,kDACJG,qD,CClGhC,MAAMM,EAAO9B,SAASC,cAAc,eAC9B8B,EAAO/B,SAASC,cAAc,SAwBpC,SAAS+B,EAAQC,GACfC,QAAQC,IAAIF,E,CAvBdF,EAAKK,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,kBAEYD,EAAEE,cAAcC,SAASC,KAAKC,MAAMC,OFZ3CC,MADY,uHACMC,MAAKC,GAAYA,EAASC,UEehDF,MAAK,EAACG,SAAEA,MACP,GAAwB,IAApBA,EAASC,OACX,MAAM,IAAIC,MAAM,eAElB,OAAOF,EAAS3C,QACd,CAAC8C,EAAQC,IAAYD,EAAS/B,EAAoBgC,IAClD,GACD,IAEFP,MAAKM,GAAWrB,EAAKX,UAAYgC,IACjCE,MAAMrB,GACNsB,SAAQ,IAAMvB,EAAKwB,S,IAOxBX,MFnB6B,uHEoB1BC,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACW,QAAEA,MAIPtB,QAAQC,IAAIqB,GACZtD,EAAcsD,EAAQ,IAEvBH,MAAMrB","sources":["src/app/newsAPI.js","src/app/createMarkup.js","src/index.js"],"sourcesContent":["// ----- NEWS DATA ----------------------------------------------------------------\nexport function fetchSearchAPI(query) {\n  const SEARCH_URL = `https://newsdata.io/api/1/news?apikey=pub_18443bdd72355201d0eb18fc583941d9bd219&country=ua&category=top&language=uk`;\n  return fetch(SEARCH_URL).then(response => response.json());\n}\n\n// --------------NEWS API----------------------------------------------------------------------------\n//const BASE_URL = `https://newsapi.org/v2/`;\n// const NEWS_API_KEY = `1572576c777b4bada530e28e03640c11`;\n\n// // SEARCH\n// export function fetchSearchAPI(query) {\n//   const SEARCH_URL = `${BASE_URL}everything?apiKey=${NEWS_API_KEY}&q=${query}&searchIn=title&from=2023-03-04&to=2023-03-05&language=en&sortBy=popularity&pageSize=24`;\n//   return fetch(SEARCH_URL).then(response => response.json());\n// }\n\n// ----------------------------------------------------------------\nexport const URL_LIST_NEWS = `https://newsdata.io/api/1/news?apikey=pub_18443bdd72355201d0eb18fc583941d9bd219&country=ua&category=top&language=uk`;\n\n// --------------NEWS API----------------------------------------------------------------------------\n\n// export const URL_LIST_NEWS = `${BASE_URL}top-headlines?country=ua&pageSize=20`;\n\n// // LIST NEWS\n// export const optionsListNews = {\n//   headers: {\n//     'X-Api-Key': `1572576c777b4bada530e28e03640c11`,\n//   },\n// };\n","const list = document.querySelector('[data-list]');\n\n// ----- main page -------------------------------------------------------------------------\n\n// 1\nconst createListItem = ({\n  creator,\n  title,\n  pubDate,\n  content,\n  link,\n  keywords,\n  source_id,\n  description,\n}) => /* html */ `\n<li class=\"news__card--main card--main stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${keywords}</span>\n<span class=\"card__date\">${pubDate}</span>\n</div>\n <div class=\"card__content-wrapper\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__descr\">${description}</p>` : ''}\n ${content ? `<p class=\"card__content\">${content.slice(0, 300)}...</p>` : ''}\n <a class=\"card__link\" href=\"${link}\" target=\"_blank\">Read more</a>\n<div class=\"card__category-info\">\n${creator ? `<p class=\"card__author\">${creator}</p>` : ''}\n<p class=\"card__source\">${source_id}</p>\n</div>\n  </div>\n</li>\n`;\n\n// 2\nconst generateContent = array =>\n  array?.reduce((acc, item) => acc + createListItem(item), '');\n\n//3 finally function to generate content\nexport const insertContent = array => {\n  const result = generateContent(array);\n  list.innerHTML = result;\n};\n\n// --------------NEWS API----------------------------------------------------------------------------\n// // 1\n// const createListItem = ({\n//   author,\n//   title,\n//   publishedAt,\n//   description,\n//   url,\n//   source: { id, name },\n// }) => /* html */ `\n// <li class=\"news__card--main card--main stacked featured\">\n// <div class=\"card__category-data\">\n// <span class=\"card__category\">${name}</span>\n// <span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n// </div>\n//  <div class=\"card__content-wrapper\">\n//   <h2 class=\"card__title\">${title}</h2>\n//  ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n// <p class=\"card__author\">${author ?? 'Anonymous'}</p>\n//   <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n//   </div>\n// </li>\n// `;\n\n// // 2\n// const generateContent = array =>\n//   array?.reduce((acc, item) => acc + createListItem(item), '');\n\n// //3 finally function to generate content\n// export const insertContent = array => {\n//   const result = generateContent(array);\n//   list.innerHTML = result;\n// };\n\n// ----- for search -------------------------------------------------------------------------\n\nexport function createMarkupArticle({\n  author,\n  title,\n  publishedAt,\n  urlToImage,\n  description,\n  url,\n  source: { id, name },\n}) {\n  const defaultImg = `https://ik.imagekit.io/irinavn2011/ukraine-7047830_1920.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1678121370881`;\n  return /* html */ `\n<li class=\"news__card card stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${name}</span>\n<span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n</div>\n     ${\n       urlToImage\n         ? `<div class=\"card__image\"> <img src=\"${urlToImage}\" alt=\"${id}\" loading=\"lazy\"></div>`\n         : `<div class=\"card__image\"> <img src=\"${defaultImg}\" alt=\"${id}\" loading=\"lazy\"></div>`\n     }\n \n <div class=\"card__content\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n<p class=\"card__author\">${author ?? 'Anonymous'}</p>\n  <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n  </div>\n</li>\n`;\n}\n\n//{ <p class=\"news__desc\">${description ? description : ''}</p> } => doesn`t good variant for semantic\n//   <p class=\"news__author\">${author ?? ''}</p>\n","import { format } from 'date-fns';\nimport { uk } from 'date-fns/locale';\n\nimport { fetchSearchAPI, optionsListNews, URL_LIST_NEWS } from './app/newsAPI';\n//import { setImages, setTitleImages } from './app/setImages';\nimport { createMarkupArticle, insertContent } from './app/createMarkup';\n\nconst list = document.querySelector('[data-list]');\nconst form = document.querySelector('#form');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const value = e.currentTarget.elements.news.value.trim();\n\n  fetchSearchAPI(value)\n    .then(({ articles }) => {\n      if (articles.length === 0) {\n        throw new Error('No articles');\n      }\n      return articles.reduce(\n        (markup, article) => markup + createMarkupArticle(article),\n        ''\n      );\n    })\n    .then(markup => (list.innerHTML = markup))\n    .catch(onError)\n    .finally(() => form.reset());\n}\n\nfunction onError(err) {\n  console.log(err);\n}\n\nfetch(URL_LIST_NEWS)\n  .then(response => response.json())\n  .then(({ results }) => {\n    // if (!ok) {\n    //   throw new Error(`Error fetching`);\n    // }\n    console.log(results);\n    insertContent(results);\n  })\n  .catch(onError);\n\n// --------------NEWS API----------------------------------------------------------------------------\n\n// fetch(URL_LIST_NEWS, optionsListNews)\n//   .then(response => response.json())\n//   .then(({ articles }) => {\n//     // if (!ok) {\n//     //   throw new Error(`Error fetching`);\n//     // }\n//     console.log(articles);\n//     insertContent(articles);\n//   })\n//   .catch(onError);\n"],"names":["$ec18a4bbba490e65$var$list","document","querySelector","$ec18a4bbba490e65$export$c23a7dc17ab580c2","array","result","reduce","acc","item","creator","title","pubDate","content","link","keywords","source_id","description","slice","$ec18a4bbba490e65$var$createListItem","$ec18a4bbba490e65$var$generateContent","innerHTML","$ec18a4bbba490e65$export$2cc953b8336ab543","author","publishedAt","urlToImage","url","source","id","name","split","join","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$onError","err","console","log","addEventListener","e","preventDefault","currentTarget","elements","news","value","trim","fetch","then","response","json","articles","length","Error","markup","article","catch","finally","reset","results"],"version":3,"file":"index.b1dc52bb.js.map"}