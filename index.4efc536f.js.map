{"mappings":"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","sources":["src/app/newsAPI.js","src/app/createMarkup.js","src/index.js"],"sourcesContent":["// ----- NEWS DATA ----------------------------------------------------------------\nexport function fetchSearchAPI(query) {\n  const SEARCH_URL = `https://newsdata.io/api/1/news?apikey=pub_18476a7917762b26ebbb61a44ce2bbbc974b2&country=ua&category=top&language=uk`;\n  return fetch(SEARCH_URL).then(response => response.json());\n}\n\n// --------------NEWS API----------------------------------------------------------------------------\n//const BASE_URL = `https://newsapi.org/v2/`;\n// const NEWS_API_KEY = `1572576c777b4bada530e28e03640c11`;\n\n// // SEARCH\n// export function fetchSearchAPI(query) {\n//   const SEARCH_URL = `${BASE_URL}everything?apiKey=${NEWS_API_KEY}&q=${query}&searchIn=title&from=2023-03-04&to=2023-03-05&language=en&sortBy=popularity&pageSize=24`;\n//   return fetch(SEARCH_URL).then(response => response.json());\n// }\n\n// ----------------------------------------------------------------\nexport const URL_LIST_NEWS = `https://newsdata.io/api/1/news?apikey=pub_18476a7917762b26ebbb61a44ce2bbbc974b2&country=ua&category=top&language=uk`;\n\n// --------------NEWS API----------------------------------------------------------------------------\n\n// export const URL_LIST_NEWS = `${BASE_URL}top-headlines?country=ua&pageSize=20`;\n\n// // LIST NEWS\n// export const optionsListNews = {\n//   headers: {\n//     'X-Api-Key': `1572576c777b4bada530e28e03640c11`,\n//   },\n// };\n","const list = document.querySelector('[data-list]');\n\n// ----- main page -------------------------------------------------------------------------\n\n// 1\nconst createListItem = ({\n  creator,\n  title,\n  pubDate,\n  content,\n  link,\n  keywords,\n  source_id,\n  description,\n}) => /* html */ `\n<li class=\"news__card--main card--main stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${keywords}</span>\n<span class=\"card__date\">${pubDate}</span>\n</div>\n <div class=\"card__content-wrapper\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__descr\">${description}</p>` : ''}\n <div class=\"content-wrapper\">\n ${content ? `<p class=\"card__content\">${content}</p>` : ''}\n </div>\n <div class=\"card__link-border\">\n <a class=\"card__link\" href=\"${link}\" target=\"_blank\">Read more</a>\n </div>\n<div class=\"card__category-info\">\n${creator ? `<p class=\"card__author\">${creator}</p>` : ''}\n<p class=\"card__source\">${source_id}</p>\n</div>\n  </div>\n</li>\n`;\n\n// 2\nconst generateContent = array =>\n  array?.reduce((acc, item) => acc + createListItem(item), '');\n\n//3 finally function to generate content\nexport const insertContent = array => {\n  const result = generateContent(array);\n  list.innerHTML = result;\n};\n\n// --------------NEWS API----------------------------------------------------------------------------\n// // 1\n// const createListItem = ({\n//   author,\n//   title,\n//   publishedAt,\n//   description,\n//   url,\n//   source: { id, name },\n// }) => /* html */ `\n// <li class=\"news__card--main card--main stacked featured\">\n// <div class=\"card__category-data\">\n// <span class=\"card__category\">${name}</span>\n// <span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n// </div>\n//  <div class=\"card__content-wrapper\">\n//   <h2 class=\"card__title\">${title}</h2>\n//  ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n// <p class=\"card__author\">${author ?? 'Anonymous'}</p>\n//   <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n//   </div>\n// </li>\n// `;\n\n// // 2\n// const generateContent = array =>\n//   array?.reduce((acc, item) => acc + createListItem(item), '');\n\n// //3 finally function to generate content\n// export const insertContent = array => {\n//   const result = generateContent(array);\n//   list.innerHTML = result;\n// };\n\n// ----- for search -------------------------------------------------------------------------\n\nexport function createMarkupArticle({\n  author,\n  title,\n  publishedAt,\n  urlToImage,\n  description,\n  url,\n  source: { id, name },\n}) {\n  const defaultImg = `https://ik.imagekit.io/irinavn2011/ukraine-7047830_1920.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1678121370881`;\n  return /* html */ `\n<li class=\"news__card card stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${name}</span>\n<span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n</div>\n     ${\n       urlToImage\n         ? `<div class=\"card__image\"> <img src=\"${urlToImage}\" alt=\"${id}\" loading=\"lazy\"></div>`\n         : `<div class=\"card__image\"> <img src=\"${defaultImg}\" alt=\"${id}\" loading=\"lazy\"></div>`\n     }\n \n <div class=\"card__content\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n<p class=\"card__author\">${author ?? 'Anonymous'}</p>\n  <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n  </div>\n</li>\n`;\n}\n\n//{ <p class=\"news__desc\">${description ? description : ''}</p> } => doesn`t good variant for semantic\n//   <p class=\"news__author\">${author ?? ''}</p>\n","import { format } from 'date-fns';\nimport { uk } from 'date-fns/locale';\n\nimport { fetchSearchAPI, optionsListNews, URL_LIST_NEWS } from './app/newsAPI';\n//import { setImages, setTitleImages } from './app/setImages';\nimport { createMarkupArticle, insertContent } from './app/createMarkup';\n\nconst list = document.querySelector('[data-list]');\nconst form = document.querySelector('#form');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const value = e.currentTarget.elements.news.value.trim();\n\n  fetchSearchAPI(value)\n    .then(({ articles }) => {\n      if (articles.length === 0) {\n        throw new Error('No articles');\n      }\n      return articles.reduce(\n        (markup, article) => markup + createMarkupArticle(article),\n        ''\n      );\n    })\n    .then(markup => (list.innerHTML = markup))\n    .catch(onError)\n    .finally(() => form.reset());\n  console.log(document.querySelector('li:nth-child(3)'));\n}\n\nfunction onError(err) {\n  console.log(err);\n}\n\nfetch(URL_LIST_NEWS)\n  .then(response => response.json())\n  .then(({ results }) => {\n    // if (!ok) {\n    //   throw new Error(`Error fetching`);\n    // }\n    console.log(results);\n    insertContent(results);\n  })\n  .catch(onError)\n  .finally(() => {\n    const contentEls = document.querySelectorAll('.card__content');\n    const maxHeight =\n      parseInt(window.getComputedStyle(contentEls[0]).lineHeight) * 20; // максимальна висота контейнера (20 рядки тексту)\n    contentEls.forEach(contentEl => {\n      const contentText = contentEl.innerText;\n      if (contentText.length > 800) {\n        contentEl.classList.add('long-text'); // додає клас long-text, якщо довжина тексту перевищує 350 символів\n      }\n      const lines = Math.ceil(\n        contentEl.clientHeight /\n          parseInt(window.getComputedStyle(contentEl).lineHeight)\n      );\n      if (lines > 20) {\n        const maxLength = 800;\n        const ellipsis = '...';\n        if (contentText.length > maxLength) {\n          const truncatedText = contentText\n            .substring(0, maxLength)\n            .replace(/(\\.|!|\\?)\\s/g, '$1' + ellipsis + ' ');\n          contentEl.innerText = truncatedText + ellipsis;\n        }\n      }\n    });\n  });\n\n// --------------NEWS API----------------------------------------------------------------------------\n\n// fetch(URL_LIST_NEWS, optionsListNews)\n//   .then(response => response.json())\n//   .then(({ articles }) => {\n//     // if (!ok) {\n//     //   throw new Error(`Error fetching`);\n//     // }\n//     console.log(articles);\n//     insertContent(articles);\n//   })\n//   .catch(onError);\n"],"names":["$da7ef5c3d5098246$var$list","document","querySelector","$da7ef5c3d5098246$export$2cc953b8336ab543","param","author","title","publishedAt","urlToImage","description","url","_source","source","id","name","concat","split","join","slice","$b8f9b7833fa37166$var$list","$b8f9b7833fa37166$var$form","$b8f9b7833fa37166$var$onError","err","console","log","addEventListener","e","preventDefault","currentTarget","elements","news","value","trim","fetch","then","response","json","articles","length","Error","reduce","markup","article","innerHTML","catch","finally","reset","result","results","array","acc","item","creator","pubDate","content","link","keywords","source_id","$da7ef5c3d5098246$var$generateContent","contentEls","querySelectorAll","parseInt","window","getComputedStyle","lineHeight","forEach","contentEl","contentText","innerText","classList","add","Math","ceil","clientHeight","truncatedText","substring","replace"],"version":3,"file":"index.4efc536f.js.map"}