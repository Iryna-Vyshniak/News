{"mappings":"AAUO,MAGMA,EAAkB,CAC7BC,QAAS,CACP,YAAa,qCCfXC,EAAOC,SAASC,cAAc,eAgCvBC,EAAgBC,IAC3B,MAAMC,EALgB,CAAAD,GACtBA,aAAA,EAAAA,EAAOE,QAAO,CAACC,EAAKC,IAASD,EAxBR,GAACE,OACtBA,EAAMC,MACNA,EAAKC,YACLA,EAAWC,YACXA,EAAWC,IACXA,EACAC,QAAQC,GAAEA,EAAEC,KAAEA,MACC,gIAGcA,sCACJL,EAAYM,MAAM,KAAKC,KAAK,KAAKC,MAAM,GAAG,8EAGzCT,YACzBE,EAAc,yBAAyBA,QAAoB,+BACpCH,UAAU,kDACJI,sDAOKO,CAAeZ,IAAO,IAI1Ca,CAAgBjB,GAC/BJ,EAAKsB,UAAYjB,CAAM,EAKlB,SAASkB,GAAoBd,OAClCA,EAAMC,MACNA,EAAKC,YACLA,EAAWa,WACXA,EAAUZ,YACVA,EAAWC,IACXA,EACAC,QAAQC,GAAEA,EAAEC,KAAEA,KAGd,MAAkB,oHAGWA,sCACJL,EAAYM,MAAM,KAAKC,KAAK,KAAKC,MAAM,GAAG,2BAG9DK,EACI,uCAAuCA,WAAoBT,2BAC3D,iKAA2DA,0FAI1CL,YACzBE,EAAc,yBAAyBA,QAAoB,+BACpCH,UAAU,kDACJI,qD,CC1DhC,MAAMY,EAAOxB,SAASC,cAAc,eAC9BwB,EAAOzB,SAASC,cAAc,SAwBpC,SAASyB,EAAQC,GACfC,QAAQC,IAAIF,E,CAvBdF,EAAKK,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAEC,kBFT2BC,EEWfF,EAAEG,cAAcC,SAASC,KAAKC,MAAMC,OFT3CC,MADY,+EAAkDN,4FAC5CO,MAAKC,GAAYA,EAASC,UEYhDF,MAAK,EAACG,SAAEA,MACP,GAAwB,IAApBA,EAASC,OACX,MAAM,IAAIC,MAAM,eAElB,OAAOF,EAAStC,QACd,CAACyC,EAAQC,IAAYD,EAASxB,EAAoByB,IAClD,GACD,IAEFP,MAAKM,GAAWtB,EAAKH,UAAYyB,IACjCE,MAAMtB,GACNuB,SAAQ,IAAMxB,EAAKyB,UFzBjB,IAAwBjB,C,IEgC/BM,MF1B6B,8DE0BR1C,GAClB2C,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MAIPf,QAAQC,IAAIc,GACZzC,EAAcyC,EAAS,IAExBK,MAAMtB","sources":["src/app/newsAPI.js","src/app/createMarkup.js","src/index.js"],"sourcesContent":["const BASE_URL = `https://newsapi.org/v2/`;\nconst NEWS_API_KEY = `1572576c777b4bada530e28e03640c11`;\n\n// SEARCH\nexport function fetchSearchAPI(query) {\n  const SEARCH_URL = `${BASE_URL}everything?apiKey=${NEWS_API_KEY}&q=${query}&searchIn=title&from=2023-03-04&to=2023-03-05&language=en&sortBy=popularity&pageSize=24`;\n  return fetch(SEARCH_URL).then(response => response.json());\n}\n\n// ----------------------------------------------------------------\nexport const URL_LIST_NEWS = `${BASE_URL}top-headlines?country=ua&pageSize=20`;\n\n// LIST NEWS\nexport const optionsListNews = {\n  headers: {\n    'X-Api-Key': `1572576c777b4bada530e28e03640c11`,\n  },\n};\n","const list = document.querySelector('[data-list]');\n\n// ----- main page -------------------------------------------------------------------------\n\n// 1\nconst createListItem = ({\n  author,\n  title,\n  publishedAt,\n  description,\n  url,\n  source: { id, name },\n}) => /* html */ `\n<li class=\"news__card--main card--main stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${name}</span>\n<span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n</div>\n <div class=\"card__content\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n<p class=\"card__author\">${author ?? 'Anonymous'}</p>\n  <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n  </div>\n</li>\n`;\n\n// 2\nconst generateContent = array =>\n  array?.reduce((acc, item) => acc + createListItem(item), '');\n\n//3 finally function to generate content\nexport const insertContent = array => {\n  const result = generateContent(array);\n  list.innerHTML = result;\n};\n\n// ----- for search -------------------------------------------------------------------------\n\nexport function createMarkupArticle({\n  author,\n  title,\n  publishedAt,\n  urlToImage,\n  description,\n  url,\n  source: { id, name },\n}) {\n  const defaultImg = `https://ik.imagekit.io/irinavn2011/ukraine-7047830_1920.jpg?ik-sdk-version=javascript-1.4.3&updatedAt=1678121370881`;\n  return /* html */ `\n<li class=\"news__card card stacked featured\">\n<div class=\"card__category-data\">\n<span class=\"card__category\">${name}</span>\n<span class=\"card__date\">${publishedAt.split('T').join(' ').slice(0, -4)}</span>\n</div>\n     ${\n       urlToImage\n         ? `<div class=\"card__image\"> <img src=\"${urlToImage}\" alt=\"${id}\" loading=\"lazy\"></div>`\n         : `<div class=\"card__image\"> <img src=\"${defaultImg}\" alt=\"${id}\" loading=\"lazy\"></div>`\n     }\n \n <div class=\"card__content\">\n  <h2 class=\"card__title\">${title}</h2>\n ${description ? `<p class=\"card__desc\">${description}</p>` : ''}\n<p class=\"card__author\">${author ?? 'Anonymous'}</p>\n  <a class=\"card__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n  </div>\n</li>\n`;\n}\n\n//{ <p class=\"news__desc\">${description ? description : ''}</p> } => doesn`t good variant for semantic\n//   <p class=\"news__author\">${author ?? ''}</p>\n","import { format } from 'date-fns';\nimport { uk } from 'date-fns/locale';\n\nimport { fetchSearchAPI, optionsListNews, URL_LIST_NEWS } from './app/newsAPI';\n//import { setImages, setTitleImages } from './app/setImages';\nimport { createMarkupArticle, insertContent } from './app/createMarkup';\n\nconst list = document.querySelector('[data-list]');\nconst form = document.querySelector('#form');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const value = e.currentTarget.elements.news.value.trim();\n\n  fetchSearchAPI(value)\n    .then(({ articles }) => {\n      if (articles.length === 0) {\n        throw new Error('No articles');\n      }\n      return articles.reduce(\n        (markup, article) => markup + createMarkupArticle(article),\n        ''\n      );\n    })\n    .then(markup => (list.innerHTML = markup))\n    .catch(onError)\n    .finally(() => form.reset());\n}\n\nfunction onError(err) {\n  console.log(err);\n}\n\nfetch(URL_LIST_NEWS, optionsListNews)\n  .then(response => response.json())\n  .then(({ articles }) => {\n    // if (!ok) {\n    //   throw new Error(`Error fetching`);\n    // }\n    console.log(articles);\n    insertContent(articles);\n  })\n  .catch(onError);\n"],"names":["$d2b84b2eb9a0aa0f$export$b4a71f580417d73d","headers","$ec18a4bbba490e65$var$list","document","querySelector","$ec18a4bbba490e65$export$c23a7dc17ab580c2","array","result","reduce","acc","item","author","title","publishedAt","description","url","source","id","name","split","join","slice","$ec18a4bbba490e65$var$createListItem","$ec18a4bbba490e65$var$generateContent","innerHTML","$ec18a4bbba490e65$export$2cc953b8336ab543","urlToImage","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$onError","err","console","log","addEventListener","e","preventDefault","query","currentTarget","elements","news","value","trim","fetch","then","response","json","articles","length","Error","markup","article","catch","finally","reset"],"version":3,"file":"index.8ba3ef2f.js.map"}